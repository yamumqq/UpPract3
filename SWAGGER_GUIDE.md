# Swagger UI для тестирования REST API

## Описание

Добавлен Swagger UI для удобного тестирования и документации REST API. Swagger предоставляет интерактивный веб-интерфейс для тестирования всех эндпоинтов API.

## Доступ к Swagger UI

После запуска приложения Swagger UI будет доступен по адресу:

```
http://localhost:8080/swagger-ui/index.html
```

## Что добавлено

### 1. Зависимости
- `springdoc-openapi-starter-webmvc-ui` - для Swagger UI
- Настроена конфигурация OpenAPI

### 2. Конфигурация Swagger
- **`SwaggerConfig.java`** - основная конфигурация OpenAPI
- Настроена информация об API (название, описание, версия)
- Добавлен сервер разработки

### 3. Аннотации в контроллере
- `@Tag` - для группировки эндпоинтов
- `@Operation` - для описания каждого метода
- `@ApiResponses` - для описания возможных ответов
- `@Parameter` - для описания параметров

### 4. Аннотации в DTO
- `@Schema` - для описания моделей данных
- Примеры значений для полей
- Описания полей

### 5. Безопасность
- Настроен доступ к Swagger UI без аутентификации
- Временно разрешен доступ к API без аутентификации

## Возможности Swagger UI

### 1. Интерактивное тестирование
- Выполнение запросов прямо из браузера
- Автоматическое заполнение заголовков
- Валидация данных

### 2. Документация API
- Описание всех эндпоинтов
- Примеры запросов и ответов
- Модели данных

### 3. Тестирование эндпоинтов

#### GET /api/users
- Получить всех пользователей
- Нажмите "Try it out" → "Execute"

#### GET /api/users/{id}
- Получить пользователя по ID
- Введите ID в поле "id"
- Нажмите "Try it out" → "Execute"

#### POST /api/users
- Создать нового пользователя
- Нажмите "Try it out"
- Заполните JSON в поле "Request body":
```json
{
  "username": "testuser",
  "email": "test@example.com",
  "password": "password123",
  "role": "USER"
}
```
- Нажмите "Execute"

#### PUT /api/users/{id}
- Обновить пользователя
- Введите ID в поле "id"
- Заполните JSON в поле "Request body":
```json
{
  "username": "updateduser",
  "email": "updated@example.com",
  "role": "ADMIN",
  "isActive": true
}
```
- Нажмите "Execute"

#### DELETE /api/users/{id}
- Удалить пользователя
- Введите ID в поле "id"
- Нажмите "Try it out" → "Execute"

#### GET /api/users/username/{username}
- Найти пользователя по имени
- Введите имя пользователя в поле "username"
- Нажмите "Try it out" → "Execute"

#### PATCH /api/users/{id}/activate
- Активировать пользователя
- Введите ID в поле "id"
- Нажмите "Try it out" → "Execute"

#### PATCH /api/users/{id}/deactivate
- Деактивировать пользователя
- Введите ID в поле "id"
- Нажмите "Try it out" → "Execute"

## Примеры использования

### 1. Создание пользователя
```json
{
  "username": "john_doe",
  "email": "john@example.com",
  "password": "securepassword123",
  "role": "USER"
}
```

### 2. Обновление пользователя
```json
{
  "username": "john_doe_updated",
  "email": "john.updated@example.com",
  "role": "ADMIN",
  "isActive": true
}
```

## Коды ответов

- **200 OK** - Успешный запрос
- **201 Created** - Ресурс успешно создан
- **400 Bad Request** - Некорректный запрос
- **404 Not Found** - Ресурс не найден
- **500 Internal Server Error** - Внутренняя ошибка сервера

## Преимущества Swagger UI

1. **Удобство тестирования** - не нужен Postman или другие инструменты
2. **Автоматическая документация** - всегда актуальная документация API
3. **Интерактивность** - можно тестировать API прямо в браузере
4. **Валидация** - автоматическая проверка данных
5. **Примеры** - готовые примеры запросов и ответов

## Запуск и тестирование

1. **Запустите приложение** (после установки JDK)
2. **Откройте браузер** и перейдите по адресу: `http://localhost:8080/swagger-ui/index.html`
3. **Изучите документацию** - все эндпоинты будут отображены
4. **Тестируйте API** - используйте кнопки "Try it out" для каждого эндпоинта

## Заключение

Swagger UI значительно упрощает тестирование и документирование REST API. Теперь у вас есть:

- ✅ Интерактивная документация API
- ✅ Возможность тестирования прямо в браузере
- ✅ Автоматическая валидация данных
- ✅ Примеры запросов и ответов
- ✅ Описание всех эндпоинтов и моделей данных

Это намного удобнее, чем использование Postman или других внешних инструментов!
